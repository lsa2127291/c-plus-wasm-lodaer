!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){r(2).init().then(function(e){const t=e.memoryManager,r=t.malloc(20,"i32");for(let e=0;e<10;e++)t.set(r[e],20+e,"i32");for(let t=0;t<10;t++)console.log(e.exports.get(r[t]))})},function(e,t){e.exports={init:function(e){if("undefined"==typeof Promise)throw new Error("No Promise support!");if("undefined"==typeof ArrayBuffer)throw new Error("No ArrayBuffer support!");e=void 0===e?function(e){return e}:e;var t=function(){function e(e){this.allocList=[],this.sizeList=[],this.allocPointer=0,this.mem={1:new Int8Array(e),2:new Int16Array(e),4:new Int32Array(e),40:new Float32Array(e),80:new Float64Array(e),i8:new Int8Array(e),i16:new Int16Array(e),i32:new Int32Array(e),f32:new Float32Array(e),f64:new Float64Array(e),char:new Int8Array(e),uchar:new Uint8Array(e),short:new Int16Array(e),ushort:new Uint16Array(e),int:new Int32Array(e),uint:new Uint32Array(e),float:new Float32Array(e),double:new Float64Array(e)},this.max=e.byteLength-1}return e.prototype.mark=function(e){for(var t=0;t<=e;t++)this.allocPointer=t,this.allocList[t]=!0},e.prototype.scan=function(){var e=this;this.mem.char.forEach(function(t,r){t>0&&(e.allocPointer=r,e.allocList[r]=!0)})},e.prototype.set=function(e,t,r){if(void 0===r&&(r=40),"number"!=typeof e||"number"!=typeof t)throw new Error("Address & value must be a number!");return r=this.sizeList[e]||r,this.mem[r][Math.floor(e/this.mem[r].BYTES_PER_ELEMENT)]=t,this},e.prototype.get=function(e,t){if(void 0===t&&(t=40),"number"!=typeof e)throw new Error("Address must be a number!");return t=this.sizeList[e]||t,this.mem[t][Math.floor(e/this.mem[t].BYTES_PER_ELEMENT)]},e.prototype.avail=function(e){void 0===e&&(e=40);var t=this.allocList.filter(function(e){return e}).length-this.mem.char.byteLength;return Math.floor(t/this.mem[e].BYTES_PER_ELEMENT)},e.prototype.struct=function(e,t,r){var n=this,o=function(){throw new Error("Struct can only use arrays of strings and numbers!")};Array.isArray(e)||o();var i={},a=[],s=e.filter(function(e,t){return t%2==0}).reduce(function(r,o,i){var s=o.split(":")[1]||t;return Array.isArray(e[2*i+1])&&(s="f32"),a.push(r),r+n.mem[s].BYTES_PER_ELEMENT},0),f=this.malloc(s,"char");i._addr=f[0],i._length=s,i._keys=e.filter(function(e,t){return t%2==0}),i._totalLength=s;var u=["_addr","_length","_totalLength","_keys","_up"];return e.forEach(function(s,l){if(l%2==0){"string"!=typeof e[l]&&o();var m=e[l].split(":").shift(),c=e[l+1],y=f[0]+a[l/2];if(-1!==u.filter(function(e){return!r||"_up"!==e}).indexOf(m))throw new Error("Can't use any of these keys in struct: "+u.join(", "));Array.isArray(c)?(i[m]=n.struct(["_up",y].concat(c),t,!0),n.sizeList[y]="f32",n.set(y,i[m]._addr),i._totalLength+=i[m]._length):"number"==typeof c?(i[m]=y,n.sizeList[y]=e[l].split(":")[1]||t,n.set(i[m],c||0,e[l].split(":")[1]||t)):o()}}),i},e.prototype.malloc=function(e,t){var r=this;if(void 0===t&&(t=40),"number"!=typeof e||e<1)throw new Error("Size must be greater than zero and a number!");var n=[],o=e*this.mem[t].BYTES_PER_ELEMENT,i=this.allocPointer%this.mem[t].BYTES_PER_ELEMENT;i&&(this.allocPointer-=i,this.allocPointer+=this.mem[t].BYTES_PER_ELEMENT);for(var a=function(){var i=0,a=function(){if(r.allocPointer>=r.max&&(r.allocPointer=0),++i>=r.max)throw new Error("Not enough memory left!");r.allocList[r.allocPointer]?(r.allocPointer++,i%500==0?setTimeout(a,0):a()):(n.push(r.allocPointer),r.allocPointer++,n.length>1&&n[n.length-1]-n[n.length-2]!=1?(o=e*r.mem[t].BYTES_PER_ELEMENT,n=[]):o--)};a()};o;)a();n.forEach(function(e){r.allocList[e]=!0});var s=n.filter(function(e){return e%r.mem[t].BYTES_PER_ELEMENT==0});return s.forEach(function(e){r.sizeList[e]=t}),s},e.prototype.free=function(e,t){var r=this;void 0===t&&(t=40);var n=function(e,t){for(;e<t;)r.allocList[e]=!1,e++};return Array.isArray(e)?(e.forEach(function(e){r.mem[t][Math.floor(e/r.mem[t].BYTES_PER_ELEMENT)]=0}),n(e[0],e[e.length-1]+this.mem[t].BYTES_PER_ELEMENT)):(e._keys.forEach(function(n){"number"==typeof e[n]?r.mem[t][e[n]/r.mem[t].BYTES_PER_ELEMENT]=0:r.free(e[n],t)}),n(e._addr,e._addr+e._length*this.mem[t].BYTES_PER_ELEMENT)),this},e}();var r={};return new Promise((n,o)=>{var i=function(e){return e},a=2752,s=a,f=a;a+=16;var u,l=function(e){var t=a;return a=a+e+15&-16,t}(4);"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(r.wasmMemory=new WebAssembly.Memory({initial:256,maximum:256}),u=r.wasmMemory.buffer):u=new ArrayBuffer(16777216),r.buffer=u,r.asmClass=new t(r.buffer);var m={global:"undefined"!=typeof window?window:self,env:{_time:function(e){return Date.now()},___setErrNo:i,_console:function(e){console.log(e)},_emscripten_memcpy_big:function(e,t,r){var n=new Uint8Array(mem);return n.set(n.subarray(t,t+r),e),e},enlargeMemory:i,getTotalMemory:function(){return 16777216},abortOnCannotGrowMemory:i,DYNAMICTOP_PTR:l,tempDoublePtr:f,assert:function(e,t){e||baseEnv.abort(t)},ABORT:function(e){throw new Error(e)},abort:function(e){throw new Error(e)},abortStackOverflow:function(){throw new Error("overflow")},STACKTOP:0,STACK_MAX:16777216},asm2wasm:{"f64-rem":function(e,t){return e%t},debugger:function(){}},parent:r};if("undefined"==typeof WebAssembly)throw new Error("No Webassembly support!");if(!m.env.table){var c=r.wasmTableSize||6,y=r.wasmMaxTableSize||6;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?m.env.table=void 0!==y?new WebAssembly.Table({initial:c,maximum:y,element:"anyfunc"}):new WebAssembly.Table({initial:c,element:"anyfunc"}):m.env.table=new Array(c),r.wasmTable=m.env.table}m.env.memoryBase||(m.env.memoryBase=r.STATIC_BASE),m.env.tableBase||(m.env.tableBase=0),m.env.memory||(m.env.memory=r.wasmMemory);var h=new Uint8Array([0,97,115,109,1,0,0,0,1,12,2,96,2,124,124,1,124,96,1,127,1,124,2,18,1,3,101,110,118,6,109,101,109,111,114,121,2,1,128,2,128,2,3,3,2,1,0,7,15,2,4,95,97,100,100,0,1,4,95,103,101,116,0,0,10,22,2,9,0,32,0,40,2,0,178,187,11,10,0,32,0,182,32,1,182,146,187,11]),p="function"==typeof WebAssembly.instantiateStreaming;m.env=function(t,r,n){return t._mallocjs=function(e,t){return r.malloc(e,t||40)[0]},t._freejs=function(e,t,n){for(var o=(n=n||40)>4?Math.round(n/10):n,i=[],a=0;a<t;a++)i.push(e+a*o);r.free(i,n)},e(t,n)}(m.env,r.asmClass,"wasm"),(p?WebAssembly.instantiateStreaming(new Response(h,{headers:{"content-type":"application/wasm"}}),m):WebAssembly.instantiate(h,m)).then(function(e){r.asmClass.mark(s),n({raw:e,emModule:r,exports:Object.keys(e.instance.exports).reduce(function(t,r){return t[r.replace("_","")]=e.instance.exports[r],t},{}),memory:r.buffer,memoryManager:r.asmClass})}).catch(o)})}}}])});